<?php
 class SimpleScorer { var $_passes; var $_fails; var $_exceptions; var $_is_dry_run; function SimpleScorer() { $this->_passes = 0; $this->_fails = 0; $this->_exceptions = 0; $this->_is_dry_run = false; } function makeDry($is_dry = true) { $this->_is_dry_run = $is_dry; } function shouldInvoke($test_case_name, $method) { return ! $this->_is_dry_run; } function getStatus() { if ($this->_exceptions + $this->_fails > 0) { return false; } return true; } function paintMethodStart($test_name) { } function paintMethodEnd($test_name) { } function paintCaseStart($test_name) { } function paintCaseEnd($test_name) { } function paintGroupStart($test_name, $size) { } function paintGroupEnd($test_name) { } function paintPass($message) { $this->_passes++; } function paintFail($message) { $this->_fails++; } function paintError($message) { $this->paintException($message); } function paintException($exception) { $this->_exceptions++; } function getPassCount() { return $this->_passes; } function getFailCount() { return $this->_fails; } function getExceptionCount() { return $this->_exceptions; } function paintMessage($message) { } function paintFormattedMessage($message) { } function paintSignal($type, $payload) { } } class SimpleReporter extends SimpleScorer { var $_test_stack; var $_size; var $_progress; function SimpleReporter() { $this->SimpleScorer(); $this->_test_stack = array(); $this->_size = null; $this->_progress = 0; } function paintGroupStart($test_name, $size) { if (! isset($this->_size)) { $this->_size = $size; } if (count($this->_test_stack) == 0) { $this->paintHeader($test_name); } $this->_test_stack[] = $test_name; } function paintGroupEnd($test_name) { array_pop($this->_test_stack); if (count($this->_test_stack) == 0) { $this->paintFooter($test_name); } } function paintCaseStart($test_name) { if (! isset($this->_size)) { $this->_size = 1; } if (count($this->_test_stack) == 0) { $this->paintHeader($test_name); } $this->_test_stack[] = $test_name; } function paintCaseEnd($test_name) { $this->_progress++; array_pop($this->_test_stack); if (count($this->_test_stack) == 0) { $this->paintFooter($test_name); } } function paintMethodStart($test_name) { $this->_test_stack[] = $test_name; } function paintMethodEnd($test_name) { array_pop($this->_test_stack); } function paintHeader($test_name) { } function paintFooter($test_name) { } function getTestList() { return $this->_test_stack; } function getTestCaseCount() { return $this->_size; } function getTestCaseProgress() { return $this->_progress; } function inCli() { return php_sapi_name() == 'cli'; } } ?>